---
import Header from '../../components/Header.astro';
import Layout from '../../layouts/Layout.astro';

/**
 * 1. Declaramos la lista de mapas en el MISMO bloque donde está getStaticPaths.
 */
 const maps = [
  { id:'1', image: '/images/maps/dust2.jpg', title: 'Dust2', description: 'Descripción del mapa 1' },
  { id:'2', image: '/images/maps/mirage.jpg', title: 'Mirage', description: 'Descripción del mapa 2' },
  { id:'3', image: '/images/maps/inferno.jpg', title: 'Inferno', description: 'Descripción del mapa 3' },
  { id:'4', image: '/images/maps/nuke.jpg', title: 'Nuke', description: 'Descripción del mapa 4' },
  { id:'5', image: '/images/maps/ancient.jpg', title: 'Ancient', description: 'Descripción del mapa 5' },
  { id:'6', image: '/images/maps/anubis.jpg', title: 'Anubis', description: 'Descripción del mapa 6' },
  { id:'7', image: '/images/maps/train.jpg', title: 'Train', description: 'Descripción del mapa 7' },
  { id:'8', image: '/images/maps/overpass.jpg', title: 'Overpass', description: 'Descripción del mapa 8' },
];

/**
 * 2. Definimos la función getStaticPaths para que Astro sepa
 *    qué rutas dinámicas generar en modo estático.
 */
export async function getStaticPaths() {
  return maps.map((map) => {
    return {
      params: { id: map.id },
      props: { map }, // (Opcional) Puedes pasar más props si quieres
    };
  });
}

/**
 * 3. Tomamos el ID de la URL y buscamos el mapa correspondiente.
 */
const { id } = Astro.params;
const mapData = maps.find((m) => m.id === id) || {
  image: '/images/maps/default.jpg',
  title: 'Mapa Desconocido',
  description: 'No hay datos disponibles para este mapa.',
};
---

<!-- 4. Marcado HTML de la página -->
 <Layout>
     <div class="relative min-h-screen contanier mx-auto flex items-center justify-center">
       <!-- Fondo con la imagen del mapa -->
       <div
         class="absolute inset-0 bg-cover bg-center"
         style={`background-image: url('${mapData.image}')`}
       ></div>
       <!-- Overlay difuminado -->
       <div class="absolute inset-0  backdrop-blur-lg"></div>
       <!-- Contenido principal -->
       <div class="relative z-10 container mx-auto p-8">
         <h1 class="text-5xl font-bold text-white mb-4">{mapData.title}</h1>
         <p class="text-lg text-white">{mapData.description}</p>
       </div>
     </div>
 </Layout>